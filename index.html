<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle AIæ©Ÿå™¨äºº</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='app.css') }}">
</head>
<body>
    <h2>Wordle çŒœå­—æ©Ÿå™¨äºº</h2>
    
    <div class="chat-box">
        {% if not history %}
            <p style="color: #666; text-align: center;">è«‹è¼¸å…¥ä¸€å€‹ 5 å€‹å­—æ¯çš„å–®å­—é–‹å§‹éŠæˆ²ï¼</p>
        {% endif %}

        {% for attempt in history %}
            <div class="msg-row">
                {% for i in range(5) %}
                    <span class="letter-box {{ attempt.result[i] }}">
                        {{ attempt.word[i] }}
                    </span>
                {% endfor %}
            </div>
        {% endfor %}
    </div>

    <form method="POST" class="input-area">
        <input type="text" 
               name="user_input" 
               placeholder="è¼¸å…¥ 5 å€‹å­—æ¯..." 
               minlength="5"
               maxlength="5" 
               required 
               pattern="[A-Za-z]{5}"
               title="è«‹è¼¸å…¥å‰›å¥½ 5 å€‹è‹±æ–‡å­—æ¯"
               autocomplete="off"
               autofocus>
        <button type="submit">ç™¼é€</button>
    </form>
    <div class="status-message">
        {% if status == 'won' %}
            <h3 style="color: #4caf50;">ğŸ‰ å¤ªå¼·äº†ï¼ä½ çŒœå°äº†ï¼</h3>
            <div id="confetti-trigger"></div> {% elif status == 'lost' %}
            <h3 style="color: #f44336;">ğŸ‘» å¯æƒœï¼ç­”æ¡ˆæ˜¯ï¼š{{ target }}</h3>
        {% endif %}
    </div>

    {% if status == 'playing' %}
    <form method="POST" class="input-area">
        </form>
    {% else %}
    <div style="text-align: center;">
        <p>éŠæˆ²å·²çµæŸ</p>
    </div>
    {% endif %}

    <div class="footer">
        <a href="/reset" class="reset-link">é‡æ–°é–‹å§‹æ–°éŠæˆ²</a>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>